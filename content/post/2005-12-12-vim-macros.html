---
title: "Vim: Macros"
date: 2005-12-12 08:15:00 -0500
julipedia: 2005/12/vim-macros.html
slug: vim-macros
---
<a href="http://www.vim.org/">Vim</a> (<i>The</i> editor) is able to record and replay macros; unfortunately, this feature is often unknown.  Since I learned about it, I'm not afraid any more to do large and monotonous editing tasks as Vim can do most of the work for me.<br /><br />OK, but, what is a macro?  A macro is a list of prerecorded actions that can be executed (replayed) at any time in an automated fashion.  Macros are identified by a single letter and can be recorded while Vim is running &mdash; that they are volatile in the sense that they are forgotten when the editor is closed. I'm sure there is a way to store them in the configuration file but I haven't looked for it (yet).<br /><br />In order to record a macro, press <tt>q</tt> followed by the name &mdash; a single letter &mdash; you want to assign to it.  The most commonly used name is <tt>q</tt> (because it's quick to type after the recording command), so simply press this key twice, <tt>qq</tt>, to start recording a macro named <tt>q</tt>.  You will see that the status line changes to <tt>recording</tt> so that you know what is going on.<br /><br />With the editor in recording mode, do changes to the document as you'd usually do.  The macro will remember everything; even changing the current document to another one (e.g., <tt>:wn</tt>) will be stored (useful in multifile edits).  When you are done, simply press <tt>q</tt> again to stop recording.<br /><br />So, now that you have your macro recorded, how do you replay it?  Simply press <tt>@q</tt> and watch Vim redo your actions!  Note that <tt>@</tt> stands for the replay command and <tt>q</tt> indicates the macro's name.<br /><br />Be careful when recoding macros, though.  It is useful to stick to generic movements around the text rather than simple ones; that is, instead of moving letter by letter, move word by word, go to the beginning/end of the line, move X lines forward/backward, etc.  This way, the macro will be applicable even if the text you are currently editing does not match the one you used to record the macro.
