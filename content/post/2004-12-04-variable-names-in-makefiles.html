---
title: "Variable names in Makefiles"
date: 2004-12-04 17:14:00 -0500
julipedia: 2004/12/variable-names-in-makefiles.html
excerpt_separator: </p>
slug: variable-names-in-makefiles
---
<p>I've found many hand-made Makefiles that are very hard to read and modify; the reason: they use strange variable names to handle the compilation and linking of programs.</p>  <p>In case you don't know, there is a de facto standard in Makefile variable names when it comes to calling to the compiler. Here they are:</p>  <ul> <li><tt>CC</tt>: Path to the C compiler.  Sometimes set to <tt>cc</tt> or <tt>gcc</tt>.  Never hardcode this to an absolute path, unless the value is being filled by the configure script.</li>  <li><tt>CXX</tt>: Path to the C++ compiler.  Sometimes set to <tt>c++</tt> or <tt>g++</tt>. Follow the same rules as in the <tt>CC</tt> variable.</li>  <li><tt>CPPFLAGS</tt>: Flags to be passed to the C/C++ preprocessor.  More specifically, this contains all <tt>-D</tt> and <tt>-I</tt> flags.</li>  <li><tt>CFLAGS</tt>: Flags to be passed to the C compiler.  For example, <tt>-g</tt>, <tt>-Wall</tt>, etc.  This <i>does not</i> include any of <tt>-D</tt> nor <tt>-I</tt>.</li>  <li><tt>CXXFLAGS</tt>: Flags to be passed to the C++ compiler.  Similar to <tt>CFLAGS.</tt></li>  <li><tt>LDFLAGS</tt>: Flags to be passed to the linker, <i>except</i> libraries.  I.e., it can include <tt>-L</tt> or rpath flags.</li>  <li><tt>LIBS</tt>: Libraries to link to.  Usually in the form of <tt>-l</tt> flags.</li> </ul>  <p>Once you have all these variables set, there are some very simple rules to use them. Whenever you have to compile a C source file into an object, use the following form: <tt>$(CC) $(CPPFLAGS) $(CFLAGS) -o name.o -c name.c</tt>, and similary for C++ sources.</p>  <p>And when you have to link multiple objects into a single executable, use a call like: <tt>$(CC) $(LDFLAGS) -o name name1.o name2.o $(LIBS)</tt>.  Here you can see why libraries are not included in <tt>LDFLAGS</tt>.</p>  <p>Lastly, if you don't mind relying on the <tt>+=</tt> operator, always use it to <i>extend</i> the value of all <tt>*FLAGS</tt> variables, so that the user can easily provide his own values in the environment.</p>  <p><b>Edit (December 11th)</b>: Corrected a variable name: <tt>CCFLAGS</tt> ought to be <tt>CFLAGS</tt>.</p><p class="mobile-post"></p>
