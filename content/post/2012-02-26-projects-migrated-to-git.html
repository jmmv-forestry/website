---
title: "Projects migrated to Git"
date: 2012-02-26 20:34:00 -0500
categories:
  - "atf"
  - "git"
  - "kyua"
  - "lutok"
julipedia: 2012/02/projects-migrated-to-git.html
excerpt_separator: </p>
slug: projects-migrated-to-git
---
I finally took the plunge. Yesterday night, I migrated the <a href="http://code.google.com/p/kyua/">Kyua</a> and <a href="http://code.google.com/p/lutok/">Lutok</a> repositories from Subversion to Git. And this morning I migrated ATF from Monotone and custom hosting to Git and Google Code; oh, and this took way longer than expected.<br /><br /><b>Migration of Kyua and Lutok</b><br /><br />Migrating these two projects was straightforward. After preparing a fresh local Git repository following the <a href="{{< relref "2012-02-25-converting-subversion-repository-to-git.html" >}}">instructions posted yesterday</a>, pushing to Google Code is a simple matter:<br /><br /><pre>$ git remote add googlecode https://code.google.com/p/your-project<br />$ git push googlecode --all<br />$ git push googlecode --tags</pre><br />One of the nice things I discovered while doing this is that a Google Code project supports multiple repositories when the VCS system is set to Git or Mercurial. By default, the system creates the <tt>default</tt> and <tt>wiki</tt> repositories, but you can add more at will. This is understandable given that, in Subversion, you have the ability to check out individual directories of a project whereas you cannot do that in the other supported VCSs: you actually need different repositories to group different parts of the project.<br /><br />I performed the full migration under a Linux box so that I could avail of the most recent Git version along with a proven binary package. The migration went alright, but I encountered a little problem when attempting a fresh checkout from NetBSD: git under NetBSD will <i>not</i> work correctly against SSL servers because it lacks the necessary CA certificates. The solution is to install the <tt>security/mozilla-rootcerts</tt> package and follow the instructions printed during installation; why this does not happen automatically escapes my mind.<br /><br /><b>Migration of ATF</b><br /><br />I had been having doubts about migrating ATF itself, although if Kyua was moved to Git, it was a prerequisite to move ATF as well. &nbsp;Certainly I could convert the repository to Git, but where could I host it afterwards? &nbsp;Creating a new Google Code project just for this seemed too much of a hassle. My illumination came when I found out, as above, that Google Code supports an arbitrary amount of repositories in a particular project when converting it to Git.<br /><br />So, for ATF, I just ran <tt>mtn git_export</tt> with appropriate flags, created a new <tt>atf</tt> repository on the Kyua site, and pushed the contents there. Along the way, I also decided to kill the home-grown ATF web site and replace it by a <a href="http://code.google.com/p/kyua/wiki/ATF">single page</a> containing all the relevant information. At this point, ATF and Kyua are supposed to work together quite tightly (in the sense that ATF is just a "subcomponent" of Kyua), so coupling the two projects on the same site makes sense.<br /><br />Now, let's drink the kool aid.
