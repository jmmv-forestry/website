---
title: "Trying out DD-WRT"
date: 2006-09-21 09:44:00 -0400
categories:
  - "dd-wrt"
  - "linksys"
  - "router"
julipedia: 2006/09/trying-out-dd-wrt.html
excerpt_separator: </p>
slug: trying-out-dd-wrt
---
Past Christmas I bought a <a href="http://www.linksys.com/servlet/Satellite?c=L_Product_C2&childpagename=US%2FLayout&amp;cid=1148435315453&pagename=Linksys%2FCommon%2FVisitorWrapper">Linksys WRT54GSv4</a> router to improve wireless access to my home network.  Of course, I'd have bought an access point, but I also wanted to replace most of my home server/router functionality with this little device so that I could eventually remove the server box.  Therefore it had to provide:<br /><ul><li>NAT.</li><li>Firewalling.</li><li>Port redirection.</li><li>A dynamic DHCP server.</li><li>Ability to configure DHCP static entries (used for servers within the network).<br /></li><li>A local DNS server to resolve names for local machines.</li></ul>The first four items were all provided by the official firmware but unfortunately not the last two.  However, if I chose that specific model was because it could easily be flashed using <a href="http://openwrt.org/">OpenWRT</a> or <a href="http://www.dd-wrt.com/">DD-WRT</a>, both of which allow to set up those services by using, e.g. <a href="http://thekelleys.org.uk/dnsmasq/doc.html">Dnsmasq</a>.<br /><br />However, due to lazyness and fear of breaking it, I didn't flash the router with these non-official firmwares until a couple of days ago.  I finally decided to give DD-WRT a try given that it includes the same (but improved) nice web interface that came with the official software.  I certainly did <i>not</i> want to configure it through the command line.<br /><br />For some reason the first flashing attempt failed in a strange way because I could access the router through telnet but not through the web.  Trying to fix that through the command line resulted in much worse results rendering the router useless: it wouldn't boot at all because the firmware was corrupt.  Panic!<br /><br />Fortunately, after playing a lot with TFTP I finally achieved to flash it again with the correct firmware.  After that, I was greeted by the web interface waiting for me to configure everything again.  At first everything looked as before (except for the visual theme change) with some minor additions, but then I discovered the "Services" tab which accomplished my initial goal: set up static DHCP entries for hosts and configure local DNS names.  <i>Simply wonderful</i>.<br /><br />So now that the router provides DHCP and DNS as I needed, the only remaining tasks that the server does are file sharing, Monotone database serving (for the local network only), P2P management and daily NetBSD rebuilds.  Note that in the past it also ran Apache, Courier IMAP, Spamassassin, FTP and probably something else.  I'm now thinking how to best get rid of them all and shut down that annoying machine that continuously pollutes the living room with noise and wastes power unnecessarily.
