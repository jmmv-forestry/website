---
title: "C++ interface to Lua for Kyua"
date: 2011-01-08 08:17:00 -0500
categories:
  - "c++"
  - "kyua"
  - "lua"
julipedia: 2011/01/c-interface-to-lua.html
excerpt_separator: </p>
slug: c-interface-to-lua
---
Finally! After two weeks of holidays work, I have finally been able to submit <a href="http://code.google.com/p/kyua/">Kyua</a>'s <a href="http://code.google.com/p/kyua/source/detail?r=39">r39</a>: a generic library that implements a C++ interface to <a href="http://www.lua.org/">Lua</a>. The code is hosted in the <tt><a href="http://code.google.com/p/kyua/source/browse/#svn%2Ftrunk%2Fkyua-cli%2Futils%2Flua">utils/lua/</a></tt> subdirectory.<br /><br />From the revision description:<blockquote>The utils::lua library provides thin C++ wrappers around the Lua C API to ease the interaction between C++ and Lua.  These wrappers make intensive use of RAII to prevent resource leakage, expose C++-friendly data types, report errors by means of exceptions and ensure that the Lua stack is always left untouched in the face of errors.  The library also provides a place (the operations module) to add miscellaneous utility functions built on top of the wrappers.</blockquote>In other words: this code aims to decouple all details of the interaction with the Lua C API from the main code of Kyua so that the high level algorithms do not have to worry about Lua C API idiosyncrasies.<br /><br />Further changes to Kyua to implement the <a href="http://code.google.com/p/kyua/wiki/ConfigurationDesign">new configuration system</a> will follow soon as all the basic code to talk to Lua has been ironed out. Also expect some extra posts regarding the design decisions that went on this helper code and, in particular, about error reporting as mentioned in the <a href="{{< relref "2011-01-07-error-handling-in-lua.html" >}}">previous post</a>.<br /><br />(Yep, Lua and Kyua sound similar. But that was never intended; promise!)
