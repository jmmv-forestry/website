---
title: "Unprivileged pkgsrc builds"
date: 2005-05-29 13:20:00 -0400
julipedia: 2005/05/unprivileged-pkgsrc-builds.html
excerpt_separator: </p>
---
<p>As you already know, <a href="http://www.pkgsrc.org/">pkgsrc</a> can be used to build a large variety of software. What you may not be aware of is that it can be used without super-user privileges; i.e., as a regular user, you can take advantage of pkgsrc to build software in systems you do not own! (Provided that you are allowed to do that, of course.)</p>  <p>The "problem" is that it has never been easy to do so (at least not for novice users): you had to override many variables in <tt>mk.conf</tt> file to avoid setting forbidden ownerships, strict permissions, etc., with the risk of forgetting something important.</p>  <p>With the changes I just commited, it should be easier than ever. If you already have a running installation, setting <tt>UNPRIVILEGED=YES</tt> in <tt>mk.conf</tt> should DTRT, and you may be able to remove many of your configuration.  (Check the <tt>mk/unprivileged.mk</tt> file for details about what it does.)</p>  <p>In case you are bootstrapping a new installation, just do <tt>./bootstrap --ignore-user-check</tt>. This will tell the script that you want to do a non-root build, so it will enable the unprivileged mode and choose several default directories for you. For instance, it will use <tt>~/pkg</tt> as the default prefix (changeable through <tt>--prefix</tt>), and all other pkgsrc-related directories will be made relative to it.</p>  <p>For more information, check out this <a href="http://www.netbsd.org/Documentation/pkgsrc/faq.html#non-root-pkgsrc">FAQ</a> (may take an hour to reflect the changes).</p><p class="mobile-post"></p>
