---
title: "Kyua: Weekly status report, BSDCan 2011 edition"
date: 2011-05-16 16:07:00 -0400
categories:
  - "atf"
  - "conference"
  - "kyua"
  - "report"
julipedia: 2011/05/kyua-weekly-status-report-bsdcan-2011.html
excerpt_separator: </p>
slug: kyua-weekly-status-report-bsdcan-2011
---
I spent past week in Ottawa, Canada, attending the <a href="http://www.bsdcan.org/2011/">BSDCan 2011</a> conference. The conference was composed of lots of interesting content and hosted many influential and insightful BSD developers. While the NetBSD presence was very reduced, I could have some valuable talks with both NetBSD and FreeBSD developers.<br /><br />Anyway. As part of BSDCan 2011, I gave a talk titled "<a href="http://www.bsdcan.org/2011/schedule/events/223.en.html">Automated testing in NetBSD: past, present and future</a>". The talk focused on explaining what led to the development of ATF in the context of NetBSD, what related technologies exist in NetBSD (<a href="http://www.netbsd.org/docs/puffs/rump.html">rump</a>, <a href="http://www.gson.org/netbsd/anita/">anita</a>&nbsp;and <a href="http://releng.netbsd.org/test-results.html">dashboards</a>), what ATF's shortcomings are and how Kyua plans to resolve them. (Video coming soon, I hope.)<br /><br />The talk was later followed by several questions and off-session conversations about testing in general in BSDs. Among these, I gathered a few random ideas / feelings:<br /><br /><ul><li>The POSIX 1003.3 standard defines the particular results a test can emit (see the <a href="http://www.delorie.com/gnu/docs/dejagnu/dejagnu_6.html">corresponding DejaGnu documentation</a>). Both ATF and Kyua already implement all the results defined in the standard, but they use different names and extend the standard with many extra results. Given that the standard does not define useful concepts like "expected failures", an idea that came up is to provide a flag to force POSIX compliance at the cost of being less useful. Why? Just for the sake of saying that Kyua conforms to this standard.</li><li>The audience seemed to like the idea of a "tests results store" quite a bit, and the sound of SQLite for the implementation was not bullied. This is something I'm eager to work on, but not before I publish a 0.1 release.</li><li>I highlighted the possibility of allowing Kyua to run "foreign" test programs so that we could integrate the results into the database. This could be useful to run tests for which we (*BSD) have no control (e.g. gcc) in an integrated manner. The idea was not bullied by anyone either.</li><li>FreeBSD has already been looking at ATF / Kyua and they are open to collaboration.</li><li>OpenBSD won't import any new C++ code, and adding C-based tests to the tree while relegating the C++ runtime to the ports is not an option. Somehow I expected this.</li><li>Junos (the FreeBSD-based operating system from Jupiter Networks) recently imported ATF and they are happy with it so far. Yay!</li><li>Would be nice to have a feature to run tests remotely after, maybe, deploying a single particular test and its dependencies. This is gonna be tricky and not in my current immediate plans.</li></ul><div>Other than that, I had little time to do some coding:</div><div><ul><li>Fixed a problem in which both ATF and Kyua were not correctly resetting the timezone of the executed tests. I only found this because, after arriving in Canada, some Kyua tests would start to fail. (Yes, the fix is in both code bases!)</li><li>Added some support to capture deadly signals that terminate Kyua so that Kyua can print an informational message stating that something went wrong and which log file contains more information. <a href="http://code.google.com/p/kyua/source/detail?r=121">See r121</a>.</li></ul><div>That's it folks! Thanks to those attending the conference and, in particular, to those that came to my talk :-)</div></div>
