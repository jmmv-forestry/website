---
title: "Kyua: Weekly status report"
date: 2011-12-11 22:16:00 -0500
categories:
  - "atf"
  - "kyua"
  - "report"
julipedia: 2011/12/kyua-weekly-status-report_11.html
slug: kyua-weekly-status-report_11
---
Some significant improvements this week:<br /><ul><li>Finally submitted the code to store and load full test case definitions. This is quite tricky (and currently very, very ugly) but it works and it will allow the reports to include all kinds of information from the test cases.</li><li>Removed the <tt>Atffile</tt>s from the tree; yay! For a long time, I had been using <tt>atf-run</tt> to run broken tests because <tt>atf-run</tt> allowed me to watch the output of the test case being debugged. However, this has been unnecessary since the <a href="{{< relref "2011-08-21-kyua-weekly-status-report_22.html" >}}">introduction of the <tt>debug</tt> command in late August</a>. I now feel confident that these files can go. (And <tt>debug</tt> is much more powerful than <tt>atf-run</tt> because you can target a single test case instead of a whole test program.)</li><li>Some crazy work attempting to hide the name of SQLite types from the <tt>sqlite::statement</tt> interface. I've been only able to do so somewhat decently for <tt>bind</tt>, but all my attempts at doing the same with <tt>column</tt> result in horrible code so far. So no, such changes have not been submitted.</li><li>As of a few minutes ago, <tt>kyua test</tt> now records the output of the test cases (stdout and stderr) into the database. These will be invaluable for debugging of test cases, particularly when the reports are posted online.</li><li>Some preliminary work at implementing HTML reports. This, however, has not received much progress due to the previous item requiring completion.</li></ul><div>I'm quite excited at this point. HTML reports are a few weeks away <i>at most</i>. Once that happens, it will be time to start considering replacing the <tt>atf-run</tt> / <tt>atf-report</tt> duo for good, particularly within NetBSD. This will certainly not be easy... but all the work that has gone into Kyua so far has this sole goal!</div>
