---
title: "Introducing Lutok: A lightweight C++ API for Lua"
date: 2011-09-15 15:18:00 -0400
categories:
  - "announce"
  - "c++"
  - "kyua"
  - "lua"
  - "lutok"
julipedia: 2011/09/introducing-lutok-lightweight-c-api-for.html
excerpt_separator: </p>
slug: introducing-lutok-lightweight-c-api-for
---
It has finally happened. <a href="http://code.google.com/p/lutok/">Lutok</a> is the result of what was promised in the "<a href="{{< relref "2011-09-03-splitting-utilslua-from-kyua.html" >}}">Splitting utils::lua from Kyua</a>" web post.<br /><br />Quoting the project web page:<br /><blockquote>Lutok provides thin C++ wrappers around the Lua C API to ease the interaction between C++ and Lua. These wrappers make intensive use of RAII to prevent resource leakage, expose C++-friendly data types, report errors by means of exceptions and ensure that the Lua stack is always left untouched in the face of errors. The library also provides a small subset of miscellaneous utility functions built on top of the wrappers.<br /><br />Lutok focuses on providing a clean and safe C++ interface; the drawback is that it is not suitable for performance-critical environments. In order to implement error-safe C++ wrappers on top of a Lua C binary library, Lutok adds several layers or abstraction and error checking that go against the original spirit of the Lua C API and thus degrade performance.<br /><br />Lutok was originally developed within Kyua but was later split into its own project to make it available to general developers.</blockquote>Coming up with a name for this project was quite an odyssey, and is what has delayed is release more than I wanted. My original candidate was "luawrap" which, although not very original, was to-the-point and easy to understand. Unfortunately, that name did not clear with the legal department and I had to propose several other names, some of which were not acceptable either. Eventually, I settled with "Lutok", which comes from "LUa TOolKit".<br /><br />At this point, the source tree of Lutok provides pretty much the same code as the <tt>utils::lua</tt> module of Kyua. While it may be enough to get you started, I'm pretty sure you will lack some functions in the <tt>state</tt> class. If that is the case, don't hesitate to file a bug report to let me know what is missing.<br /><br />In case you missed the link above, the project page is here: <a href="http://code.google.com/p/lutok/">Lutok in Google Code</a>.
