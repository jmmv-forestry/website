---
title: "Setting up a bridge"
date: 2004-12-13 16:42:00 -0500
julipedia: 2004/12/setting-up-bridge.html
slug: setting-up-bridge
---
<p>A bridge is a machine that connects two different physical networks (like a switch). I've just set up my box to act as a bridge between my Mac (connected to the <i>ne0</i> interface) and my home network (connected to the <i>vr0</i> interface).</p>  <p>It has been easy as hell due to the excellent quality of the NetBSD <a href="http://man.netbsd.org/">manual pages</a> ;-)  After reading <a href="http://netbsd.gw.com/cgi-bin/man-cgi?bridge++NetBSD-current">bridge(4)</a>, I saw a reference to <a href="http://netbsd.gw.com/cgi-bin/man-cgi?brconfig+8+NetBSD-current">brconfig(8)</a>, which I read too.  And, fortunately, there is a simple but useful example in it.</p>  <p>So, I started by rebuilding my kernel to add <tt>pseudo-device bridge</tt> and created <tt>/etc/ifconfig.bridge0</tt> with the following lines in it:</p>  <pre>create<br />!brconfig $int add vr0 add ne0 up</pre><p></p>  <p>After a reboot, the bridge was just working :-) The Mac now has transparent access to my home network, something that didn't happen <a href="http://www.livejournal.com/users/jmmv/1182.html">before</a> when I used two different subnets. For example, it now has access to the DHCP server and there is no need to add an extra route anywhere.</p><p class="mobile-post"></p>
