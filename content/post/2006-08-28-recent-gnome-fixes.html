---
title: "Recent GNOME fixes"
date: 2006-08-28 11:02:00 -0400
categories:
  - "gnome"
  - "netbsd"
julipedia: 2006/08/recent-gnome-fixes.html
excerpt_separator: </p>
slug: recent-gnome-fixes
---
A week has almost passed since someone told me that D-Bus' session daemon was broken in NetBSD.  I curse that day! ;-)  I've been investigating that problem since then and (very) beleatedly fixing some issues in other GNOME programs during the process.<br /><br />D-Bus' session daemon did not work under NetBSD because it couldn't authenticate incoming connections; that was due to the lack of socket credentials.  After some of days of investigation &mdash; which included discovering that NetBSD does indeed support socket credentials through <a href="http://julipedia.blogspot.com/2006/08/localcreds-socket-credentials.html">LOCAL_CREDS</a> &mdash; and multiple attempts to implement them, I finally got D-Bus session daemon to authenticate appropriately.<br /><br />This served me to fix gnome-keyring too, which was broken for the exact same reason, and gnome-keyring-manager, the application I was using to check whether gnome-keyring worked or not.<br /><br />At last I also finally sat down and solved an annoying problem in the gnome-applets package that caused the Sticky Notes applet to crash when adding a new note; this had been happening since 2.12.0 if I recall correctly.  I am sure that the root of this problem was also producing incorrect behavior in other panel applets.<br /><br />For more details check these out:<br /><ul><li>dbus: <a href="https://bugs.freedesktop.org/show_bug.cgi?id=7998">#7798 - Generalize kqueue support</a></li><li>dbus: <a href="https://bugs.freedesktop.org/show_bug.cgi?id=8037">#8037 - Improve debugging messages in exchange_credentials</a></li><li>dbus: <a href="https://bugs.freedesktop.org/show_bug.cgi?id=8041">#8041 - Add LOCAL_CREDS socket credentials support</a></li><li>gnome-keyring: <a href="http://bugzilla.gnome.org/show_bug.cgi?id=353105">#353105 - Implement LOCAL_CREDS socket credentials</a></li><li>gnome-applets: <a href="http://bugzilla.gnome.org/show_bug.cgi?id=353239">#353239 - Get rid of AC_DEFINE_DIR</a></li><li>gnome-keyring-manager: <a href="http://bugzilla.gnome.org/show_bug.cgi?id=353251">#353251 - Better handling of null paths</a><br /></li></ul>Ouch... and GNOME 2.16 is around the corner... I'm afraid of all the new problems to come!
