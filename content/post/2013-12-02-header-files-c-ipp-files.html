---
title: "Header files: C++ ipp files"
date: 2013-12-02 12:00:00 -0500
categories:
  - "c++"
  - "header-files"
julipedia: 2013/12/header-files-c-ipp-files.html
excerpt_separator: </p>
---
<p>Hoping you had a nice holiday break, it is now the time to resume our series on header files with a new topic covering the world of template definitions in C++.</p> <hr /> <p>If you have ever used the <a href="http://www.boost.org/">Boost libraries</a>, you may have noticed that aside from the regular <tt>hpp</tt> header files, they also provide a bunch of accompanying <tt>ipp</tt> files.</p> <p><b><tt>ipp</tt> files, in the general case, are used to provide the implementation for a template class defined in a corresponding <tt>hpp</tt> file.</b>  This stems from the fact that, in C++, the <i>code</i> for such template definitions must be available whenever the class is instantiated, and this in turn means that the template definitions cannot be placed in separate modules as is customary with non-template classes.  In other words: putting the template definitions in <tt>cpp</tt> files just does not work.  (I hear the C++ standards committee wants to "fix" this but I forget the details now and cannot find a reference.)</p> <p>By splitting the implementation of a template class from its definition, the developer controls when and where the implementation of such class is instantiated and made available.  The developer does this by explicitly including the <tt>ipp</tt> file <i>instead of</i> the <tt>hpp</tt> file where necessary.</p> <p>There are two advantages to doing the above:</p> <ul><li><b>Shorter build times</b>: Most modules where you include a header file wouldn't care less about the implementation internals of the class they need.  If you don't need something in a module, don't include it in the first place!</li> <li><b>Cleaner header files</b>: Because classes exist to encapsulate some behavior, it is extremely likely for the implementation of a class to require the inclusion of more header files than its corresponding <tt>hpp</tt> counterpart.  By keeping the two separate, the <tt>hpp</tt> files are leaner dependency-wise and prevent inadvertently introducing additional indirect dependencies in your code.  This, again, is just a side-effect of C++ lacking a proper modules system.</li></ul> <p>Obviously, all of the above applies not only to template class definitions, but also to template functions and even inline functions.  The guideline, therefore, is: <b>place definitions in <tt>cpp</tt> or <tt>ipp</tt> files and restrict <tt>hpp</tt> files to contain declarations only</b>.</p> <p>And keep in mind that including <tt>ipp</tt> files from within <tt>hpp</tt> files is almost always the wrong thing to do.</p>
