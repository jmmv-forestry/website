---
layout: post
title: "pkg-config: Mixed state in some libraries"
date: 2005-03-15 10:39:00 -0500
categories:
julipedia: 2005/03/pkg-config-mixed-state-in-some.html
excerpt: Post imported from The Julipedia; excerpt not available.
---
<p>A reply to my previous <a href="http://www.livejournal.com/users/jmmv/28801.html">pkg-config introductory post</a> outlined a real "problem" with "mixed-state" packages.  These packages provide pkg-config metadata files <i>in some situations</i>; i.e., not always. This is a quite common situation in libraries that did not use pkg-config in the past, but have been recently converted to do so. Some examples are <a href="http://www.openssl.org/">OpenSSL</a> or the <a href="http://www.x.org/">X libraries</a> (which are being converted to the GNU toolchain by <a href="http://www.freedesktop.org/">Freedesktop.org</a>).</p>  <p>But why is this a problem? Basically because software developers are not aware of this and simply look for the pkg-config metadata files. E.g., when they need OpenSSL, they simply ask for the <tt>openssl.pc</tt> file through pkg-config; in case of failure, they assume the library is not there, but this assumption can be perfectly wrong. When this happens, those programs should also check for the libraries in a direct manner, bypassing pkg-config.</p>  <p>However, it's safe to use pkg-config in other situations, specially to get information about libraries which have <i>always</i> used pkg-config (like almost all <a href="http://www.gnome.org/">GNOME</a> 2.x libraries).</p>  <p>So, be careful with libraries that have been around for a long while. In case of doubt, try to do a bit of research: check older (API compatible) versions of the same library to see if they have the file, and also check some other operating systems (specially if the library is part of their base system). If you are still unsure, it may be a good idea to ask the software developers or simply add manual detection in your scripts.</p><p class="mobile-post"></p>
