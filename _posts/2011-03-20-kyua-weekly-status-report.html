---
layout: post
title: "Kyua: Weekly status report"
date: 2011-03-20 11:58:00 -0400
categories: atf kyua report
julipedia: 2011/03/kyua-weekly-status-report.html
excerpt: Post imported from The Julipedia; excerpt not available.
---
These days, I find myself talking about <a href="http://code.google.com/p/kyua/">Kyua</a> to "many" people.  In particular, whenever a new feature request for <a href="http://www.netbsd.org/%7Ejmmv/atf/">ATF</a> comes in, I promise the requester that the feature will be addressed as part of Kyua.  However, I can imagine that this behavior leaves the requester with mixed feelings: it is nice that the feature will be implemented but, at the same time, it is very hard to know when because the web site of Kyua does not provide many details about its current status.<br /><br />In an attempt to give Kyua some more visibility, I will start posting weekly activity reports in this blog.  These reports will also include any work done on the ATF front, as the two projects are highly related at this point.  I write these reports regularly at work and I feel like it is a pretty good habit: every week, you have to spend some time thinking about what you did for the project and you feel guilty if the list of tasks is ~zero ;-)  It also, as I said, gives more visibility to the work being done so that outsiders know that the project is not being ignored.<br /><br />Before starting with what has happened this week, a bit of context.  I have been traveling like crazy and hosting guests over for the last 2 months.  This has given me virtually no time to work on Kyua but, finally, I have got a chance to do some work this past week.<br /><br />So, what are the news?<ul><li>Implemented the <tt>--loglevel</tt> command line flag, which closes <a href="http://www.google.com/url?sa=D&amp;q=http://code.google.com/p/kyua/issues/detail?id=14">issue 14</a>.  Kyua now generates run-time logs of its internal activity to aid in postmortem debugging and this flag allows the user to control the verbosity of such logs.</li><li>Antti Kantee hacked support for atf-run in the NetBSD source tree to dump a stack trace of any crashing test program.  I have backported this code to the upstream ATF code and filed <a href="http://www.google.com/url?sa=D&amp;q=http://code.google.com/p/kyua/issues/detail?id=15">issue 15</a> to implement this same functionality in Kyua.</li><li>Fixed a hang in atf-run that made it get stuck when a test case spawned a child processes and atf-run failed to terminate it.  A quick test seems to indicate that Kyua is affected by a similar problem: it does not get stuck but it does not correctly kill the subprocesses.  The problem will be addressed as part of <a href="http://www.google.com/url?sa=D&amp;q=http://code.google.com/p/kyua/issues/detail?id=16">issue 16</a>.</li><li>Oh, and by the way: Kyua will be <a href="http://www.bsdcan.org/2011/schedule/events/223.en.html">presented at BSDCan 2011</a>.</li></ul>My plans for this week are to make Kyua run the full NetBSD test suite without regressions when compared to ATF.  Basically, the results of a test run with Kyua should be exactly the same as those of a test run with ATF.  No dangling processes should be left behind.<br /><br />Lastly, if you are interested in these reports and other Kyua news, you can subscribe to the <a href="http://blog.julipedia.org/feeds/posts/default/-/kyua">kyua label feed</a> and, if you want to stay up to date with <i>any</i> changes performed to the code, subscribe to the <a href="https://groups.google.com/group/kyua-log">kyua-log</a> mailing list.
