---
layout: post
title: "Top 5 tips to write great commit log messages"
date: 2013-08-05 12:00:00 -0400
categories: vcs
julipedia: 2013/08/top-5-tips-to-write-great-commit-log.html
excerpt_separator: </p>
---
<p>Writing commit messages is something that every programmer has to face at some point.  It may be as early as when starting to contribute to an open source project from home or it can be as late as when joining a job where the development team uses a <a href="http://en.wikipedia.org/wiki/Revision_control">Version Control System</a> (VCS for short).  (Off topic tip: if an open source project or a job you join do not use any VCS, consider <strike>twice</strike> thrice if you want to do so.)</p> <p>You need to remember that whatever you write in a commit message will be left behind for posterity.  Additionally, commit messages, along with the <i>annotate</i> functionality of most VCS systems, are an invaluable tool when hunting down bugs that seemingly pop up from nowhere.  Therefore, you must pay special care to write sensible <i>and</i> readable messages.  These messages are not for yourself: they are for your peers and for future generations so that they can easily inspect what happened to a piece of code.</p> <p>Here are my top 5 guidelines to write good commit messages:</p> <p><strong>No. 1: Detail the <i>what</i> and the <i>why</i>, not the <i>how</i></strong></p> <p>Commit messages are part of the history of the project, and exist to detail <em>what</em> changed at every point in time and <em>why</em> such changes happened.  Whatever it is that you are checking in &#8212; be it code, documentation, pictures, etc. &#8212; already details the <em>how</em> of a change.</p> <p>For example: "add function <tt>check_flags</tt> and call it from <tt>main</tt>" is a horrible commit message whereas "fix <tt>main</tt> to properly validate the input flags" is a better version of it.  Note, however, that a message of the form "add function <tt>find_window</tt>" could be perfectly acceptable if was describing a change in the public API of a library.</p> <p><strong>No. 2: Be thorough but concise</strong></p> <p>The readers of your commit message should not need to look at the change itself to understand what happened to the tree: reading the commit log should be sufficient for that.  Therefore, make sure you detail precisely, at a high semantical level, everything that has changed in the code.</p> <p>Note that, as you do this, you may find yourself explaining two different and unrelated things that have been modified.  This is especially true if your commit message ends up being a list of bullet points.  If that is the case, you should really consider splitting the change apart and committing two independent changes, each with its own log message.</p> <p><strong>No. 3: Restrict the first line to the "subject"</strong></p> <p>Split your commit message into a one-liner summary (aka the subject) and a more detailed explanation of what happened.</p> <p>The rationale for this is that most VCS tools and graphical/web front-ends use the very first line of the commit message in terse lists.  Such lists provide the reader an excellent way to quickly get an idea of the major changes that have happened to a file or a tree, and for these to be useful the short views of the commit messages need to be useful.</p> <p>Side-note: If you use Vim to compose commit messages for Git, you will even notice that the maximum length of the first line is restricted and denoted by a different color.</p> <p><strong>No. 4: Use the present tense in the first person</strong></p> <p>Write commit messages in the present tense, using the first person.  This is just the most widespread style and if you use something else your messages will read strange.</p> <table>  <tr>    <td style="background: #ffdddd; padding: 15px" rowspan="3">No</td>    <td>Adding feature X</td>  </tr>  <tr>    <td>Adds feature X</td>  </tr>  <tr>    <td>Added feature X</td>  </tr>  <tr>    <td style="background: #ddffdd; padding: 15px">Yes</td>    <td>Add feature X</td>  </tr></table> <p>But be aware: consistency is better than doing as I mention here.  If you are joining an existing team and that team has a specific way to write messages, copy their style.  Spend some minutes digging through old commit logs to learn the behavior of the team.</p> <p><strong>No. 5: Watch out your spelling and grammar</strong></p> <p>Once again, remember that your commit message will be left behind in the source tree for posterity's sake.  It is important that you watch out your spelling and your grammar in order to write text that is pleasant to read, has no typos and transmits the right information.  The <a href="http://julipedia.meroh.net/2013/06/readability-mind-your-typos-and-grammar.html">same rules as when writing code apply</a>: if you are sloppy in your writing, why should one believe that you are not sloppy in your code?</p> <hr /> <p>To conclude: no matter how nice your commit messages look like, they are no replacement for a hand-written <tt>NEWS</tt> file.  More on this on the next post!</p>
