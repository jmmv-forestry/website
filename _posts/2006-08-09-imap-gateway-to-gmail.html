---
layout: post
title: "IMAP gateway to GMail"
date: 2006-08-09 11:20:00 -0400
categories:
julipedia: 2006/08/imap-gateway-to-gmail.html
excerpt_separator: </p>
---
<b>Update (Oct 24, 2007)</b>: OK, this is one of the most visited posts in my blog.  Don't bother reading this.  As of today, GMail supports IMAP without the need for external hacks!  Just go to your settings tab, enable it, configure your mailer and that's it!  More information is on their help page.<br /><br />Wouldn't it be great if you could access your <a href="http://www.gmail.com/">GMail</a> account using your favourite email client from multiple computers, yet keep all of them synchronized?  That's what you could do if they provided support for the IMAP protocol, but unfortunately they currently don't.<br /><br />So yesterday I was wondering... would it be difficult to write an IMAP gateway for GMail?  Sure it would but... guess what?  It already exists!  The <a href="http://search.cpan.org/%7Ekrs/GMail-IMAPD-0.93/lib/GMail/IMAPD.pm">GMail::IMAPD</a> Perl module implements this functionality in a ready-to-use service.  All you need to do is copy/paste the sample program in the manual page, execute it and you've got the gateway running.<br /><br />Unfortunately, it's still quite incomplete as it only supports some mail clients and lacks some features â€” the documentation gives more details on this.  I could get it to work with Apple Mail but was very slow overall (maybe because I have a <i>lot</i> of mail in my account) and had random problems.  You might get better results though.<br /><br />For your pleasure, it is now in pkgsrc as <a href="http://cvsweb.netbsd.org/bsdweb.cgi/pkgsrc/mail/p5-GMail-IMAPD/">mail/p5-GMail-IMAPD</a> alongside a patch to accomodate a change in GMail's login protocol.   There is also the programmatic interface to the web service used by the former in <a href="http://cvsweb.netbsd.org/bsdweb.cgi/pkgsrc/mail/p5-Mail-Webmail-Gmail/">mail/p5-Mail-Webmail-Gmail</a>, but be aware that the former includes a somewhat obsolete copy of the latter due to non-official modifications.<br /><br /><b>Update (August 26th)</b>: I am <i>not</i> the author of the above mentioned Perl module and therefore I cannot provide support for it.  Please read the manual page and, if it is not clear enough or if it does not work as you expect, ask the real author (<a href="http://search.cpan.org/%7Ekrs/GMail-IMAPD-0.93/lib/GMail/IMAPD.pm#AUTHOR">Kurt Schellpeper)</a> for further details.  Anyway, to answer some of the questions posted:<br /><br />To get this module to work, install it using CPAN or <a href="http://www.pkgsrc.org/">pkgsrc</a> (recommended). Using the latter has the advantage that the module receives a fix for the login procedure.  If you install it manually be sure to apply the <a href="http://cvsweb.netbsd.org/bsdweb.cgi/pkgsrc/mail/p5-GMail-IMAPD/patches/patch-aa?rev=1.1.1.1&content-type=text/x-cvsweb-markup">required patch</a>!<br /><br />Then open up an editor and paste the example code in the module's manual synopsis section:<br /><pre># Start an IMAP-to-Gmail daemon on port 1143<br />use GMail::IMAPD;<br />my $daemon=GMail::IMAPD->new(LocalPort=>1143,<br />                           LogFile=>'gmail_imapd.log',<br />                           Debug=>1);<br />$daemon->run();</pre>Save the file as, e.g., <tt>gmail-imap.pl</tt> and execute it from a terminal using: <tt>perl gmail-imap.pl</tt> (<tt>/usr/pkg/bin/perl gmail-imapl.pl</tt> if you are using pkgsrc).  Once running,  configure your mail client to connect to localhost:1143 using IMAP v4.  If it does not work, I'm sorry but you are on your own.  (Again, contact the module's author.)<br /><br />Hope this helps.
