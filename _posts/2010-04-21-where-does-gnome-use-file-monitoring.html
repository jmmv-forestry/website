---
layout: post
title: "Where does Gnome use file monitoring?"
date: 2010-04-21 04:08:00 -0400
categories: gnome
julipedia: 2010/04/where-does-gnome-use-file-monitoring.html
excerpt_separator: </p>
---
One of <a href="http://blog.julipedia.org/2010/04/new-gio-fam-package.html?showComment=1271802660697#c3047587885904955995">my readers</a> of my <a href="http://blog.julipedia.org/2010/04/new-gio-fam-package.html">post yesterday</a>, wonders where Gnome uses the file monitoring APIs. Well, the answer is: <span style="font-style: italic;">everywhere</span>.<br /><br />Here are some examples:<br /><ul><li>Nautilus monitors all open folders so that it can update their contents whenever the underlying file store changes. Say you are viewing the Documents folder and you save a new Document from within OpenOffice into that folder. You definitely want Nautilus to show it immediately, without having to manually hit Refresh from the menu.</li><li>The trash applet monitors the trash folders and updates its icon from empty to full whenever one of these folders ceases to be non-empty.</li><li>The panel monitors the applications directory to notice when new applications get installed. This allows it to update the Applications menu immediately as soon as a new program gets installed into the system.</li><li>The GTK file open/save dialogs monitor the directory they are viewing for the same reason as Nautilus. (Actually, I'm unsure about this point. My Linux installation is an old Ubuntu 8.04 LTS that does not have GIO, so I can't verify in recent ones.  However, this makes perfect sense and if not implemented, it should be!)</li><li>The background switcher control panel monitors the folders containing images to be able to show new installed backgrounds. (I'm not sure about this either. It doesn't happen in my Linux installation, but it also makes sense.)</li><li>Media players such as Rhythmbox and Banshee allow you to point them to a folder containing music and have an option to automatically add music to the library as soon as it pops up in such folder.</li><li>Potentially, any document editor, picture viewer, etc. monitors the documents opened in them so that these applications can notice external notifications to those files. This is useful to prevent overwriting a file with an out-dated in-memory copy. For example: you are taking some notes with GEdit. On a separate terminal window, you quickly edit the notes file with Vim to add a new note. When you go back to GEdit, you want the editor to tell you that the file has changed out of its control and offer you a choice: e.g. reload or ignore?<br /></li></ul>And many, many more other situations that I'm surely missing...<br /><br />As you can see, it is fairly important to get the file monitoring subsystem working flawlessly. Otherwise, all these tiny details don't work and the end user experience is undermined.
